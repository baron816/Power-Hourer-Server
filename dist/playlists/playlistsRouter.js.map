{"version":3,"sources":["../../src/playlists/playlistsRouter.js"],"names":["playlistsRouter","param","authorize","route","get","post","put","delete"],"mappings":";;;;;;AAAA;;AACA;;AAcA;;AAEA,IAAMA,kBAAkB,qBAAxB;;AAEAA,gBAAgBC,KAAhB,CAAsB,IAAtB;AACAD,gBAAgBC,KAAhB,CAAsB,QAAtB;;AAEA,IAAMC,YAAY,CAAC,wBAAD,EAAgB,0BAAhB,CAAlB;;AAEAF,gBAAgBG,KAAhB,CAAsB,GAAtB,EACGC,GADH,sCAEGC,IAFH,CAEQ,wBAFR;;AAIAL,gBAAgBG,KAAhB,CAAsB,oBAAtB,EACGC,GADH,qCAEGE,GAFH,CAEOJ,SAFP;;AAIAF,gBAAgBG,KAAhB,CAAsB,yBAAtB,EACGG,GADH;;AAGAN,gBAAgBG,KAAhB,CAAsB,OAAtB,EACGG,GADH,CACOJ,SADP,uCAEGK,MAFH,CAEUL,SAFV;;AAIAF,gBAAgBG,KAAhB,CAAsB,eAAtB,EACGG,GADH,CACOJ,SADP;;AAGAF,gBAAgBG,KAAhB,CAAsB,4BAAtB,EACGG,GADH,CACOJ,SADP,2CAEGK,MAFH,CAEUL,SAFV;;kBAIeF,e","file":"playlistsRouter.js","sourcesContent":["import {Router} from 'express';\nimport {\n  playlistsIndex,\n  playlistsCreate,\n  playlistItems,\n  playlistDelete,\n  playlistItemUpdate,\n  idParam,\n  playlistItemParam,\n  moveItemUpdate,\n  playlistUpdate,\n  playlistIncrementPlayCount,\n  playlistItemDelete,\n  playlistItemAdd\n} from './playlistsController';\nimport { decodeToken, authorizeUser } from '../auth/auth';\n\nconst playlistsRouter = new Router();\n\nplaylistsRouter.param('id', idParam);\nplaylistsRouter.param('itemId', playlistItemParam);\n\nconst authorize = [decodeToken(), authorizeUser()];\n\nplaylistsRouter.route('/')\n  .get(playlistsIndex)\n  .post(decodeToken(), playlistsCreate);\n\nplaylistsRouter.route('/:id/playlistItems')\n  .get(playlistItems)\n  .put(authorize, playlistItemAdd);\n\nplaylistsRouter.route('/:id/incrementPlayCount')\n  .put(playlistIncrementPlayCount);\n\nplaylistsRouter.route('/:id/')\n  .put(authorize, playlistUpdate)\n  .delete(authorize, playlistDelete);\n\nplaylistsRouter.route('/:id/moveItem')\n  .put(authorize, moveItemUpdate);\n\nplaylistsRouter.route('/:id/playlistItems/:itemId')\n  .put(authorize, playlistItemUpdate)\n  .delete(authorize, playlistItemDelete);\n\nexport default playlistsRouter;\n"]}